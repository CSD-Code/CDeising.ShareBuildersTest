/* Market */

CREATE TABLE [dbo].[Market] (
    [Id]   UNIQUEIDENTIFIER NOT NULL,
    [Name] NVARCHAR (50)    NOT NULL,
    PRIMARY KEY CLUSTERED ([Id] ASC)
);

GO

INSERT INTO [Market] VALUES ('7F22BBBF-5358-47C4-801C-C6F31C028529', 'Los Angeles')
INSERT INTO [Market] VALUES ('91DEFCE8-B526-441A-A6C0-181AA373DFB7', 'Chicago')

/* Network Affiliate  */

CREATE TABLE [dbo].[Affiliation] (
    [Id]   UNIQUEIDENTIFIER NOT NULL,
    [Name] NVARCHAR (50)    NOT NULL,
    PRIMARY KEY CLUSTERED ([Id] ASC)
);

GO

INSERT INTO [Affiliation] VALUES ('7F2A053F-E111-4E56-912E-B7719C203123', 'ABC')
INSERT INTO [Affiliation] VALUES ('FC613A49-9F12-4382-AA02-1DB70326B387', 'CBS')
INSERT INTO [Affiliation] VALUES ('D07F23CA-55AF-4051-849E-EAC47CFDE52C', 'Fox')
INSERT INTO [Affiliation] VALUES ('B4CD5032-2D7A-447D-9C2E-C38437B464E2', 'The CW')

/* Station */

CREATE TABLE [dbo].[Station] (
    [Id]       UNIQUEIDENTIFIER NOT NULL,
    [CallSign] VARCHAR (9)      NOT NULL,
    [Type]     INT              NOT NULL,
    [MarketId] UNIQUEIDENTIFIER NOT NULL,
    PRIMARY KEY CLUSTERED ([Id] ASC),
    CONSTRAINT [FK_Station_Market] FOREIGN KEY ([MarketId]) REFERENCES [dbo].[Market] ([Id])
);


GO

CREATE NONCLUSTERED INDEX [IX_Station_MarketId]
    ON [dbo].[Station]([MarketId] ASC);

GO

INSERT INTO [Station] VALUES ('56D1B9B5-7216-44C2-BA51-854B7844610B', 'KTLA-TV', 1, '7F22BBBF-5358-47C4-801C-C6F31C028529')
INSERT INTO [Station] VALUES ('B6F4A9D3-201F-41ED-A84B-A7AA58C7B2B5', 'KABC-TV', 1, '7F22BBBF-5358-47C4-801C-C6F31C028529')
INSERT INTO [Station] VALUES ('E1D8B806-8DA0-4933-81DD-EAB99A955F14', 'WVAZ', 0, '91DEFCE8-B526-441A-A6C0-181AA373DFB7')

/* Users */

CREATE TABLE [dbo].[User] (
    [Id]        UNIQUEIDENTIFIER NOT NULL,
    [FirstName] NVARCHAR (50)    NOT NULL,
    [LastName]  NVARCHAR (50)    NOT NULL,
    [StationId] UNIQUEIDENTIFIER NOT NULL,
    PRIMARY KEY CLUSTERED ([Id] ASC),
    CONSTRAINT [FK_User_Station] FOREIGN KEY ([StationId]) REFERENCES [dbo].[Station] ([Id])
);


GO

CREATE NONCLUSTERED INDEX [IX_User_StationId]
    ON [dbo].[User]([StationId] ASC);

GO

INSERT INTO [User] VALUES (NEWID(), 'John', 'Smith', '56D1B9B5-7216-44C2-BA51-854B7844610B')
INSERT INTO [User] VALUES (NEWID(), 'Zachary', 'Atkins', '56D1B9B5-7216-44C2-BA51-854B7844610B')
INSERT INTO [User] VALUES (NEWID(), 'Mina', 'Lloyd', '56D1B9B5-7216-44C2-BA51-854B7844610B')
INSERT INTO [User] VALUES (NEWID(), 'Zaire', 'Bell', '56D1B9B5-7216-44C2-BA51-854B7844610B')
INSERT INTO [User] VALUES (NEWID(), 'Lucy', 'Valdez', '56D1B9B5-7216-44C2-BA51-854B7844610B')

INSERT INTO [User] VALUES (NEWID(), 'Kylee', 'Mata', 'B6F4A9D3-201F-41ED-A84B-A7AA58C7B2B5')
INSERT INTO [User] VALUES (NEWID(), 'Bryson', 'Hill', 'B6F4A9D3-201F-41ED-A84B-A7AA58C7B2B5')
INSERT INTO [User] VALUES (NEWID(), 'Korbin', 'Daniels', 'B6F4A9D3-201F-41ED-A84B-A7AA58C7B2B5')
INSERT INTO [User] VALUES (NEWID(), 'Opal', 'Johns', 'B6F4A9D3-201F-41ED-A84B-A7AA58C7B2B5')
INSERT INTO [User] VALUES (NEWID(), 'Mallory', 'Wallace', 'B6F4A9D3-201F-41ED-A84B-A7AA58C7B2B5')

INSERT INTO [User] VALUES (NEWID(), 'Eliza', 'Allen', 'E1D8B806-8DA0-4933-81DD-EAB99A955F14')
INSERT INTO [User] VALUES (NEWID(), 'Rory', 'Romero', 'E1D8B806-8DA0-4933-81DD-EAB99A955F14')
INSERT INTO [User] VALUES (NEWID(), 'Ruby', 'Burns', 'E1D8B806-8DA0-4933-81DD-EAB99A955F14')


/* Station Affiliation */

CREATE TABLE [dbo].[StationAffiliation] (
    [Id]            UNIQUEIDENTIFIER NOT NULL,
    [StationId]     UNIQUEIDENTIFIER NOT NULL,
    [AffiliationId] UNIQUEIDENTIFIER NOT NULL,
    PRIMARY KEY CLUSTERED ([Id] ASC),
    CONSTRAINT [FK_StationAffiliation_Affiliation] FOREIGN KEY ([AffiliationId]) REFERENCES [dbo].[Affiliation] ([Id]),
    CONSTRAINT [FK_StationAffiliation_Station] FOREIGN KEY ([StationId]) REFERENCES [dbo].[Station] ([Id])
);


GO

CREATE NONCLUSTERED INDEX [IX_StationAffiliation_AffiliationId]
    ON [dbo].[StationAffiliation]([AffiliationId] ASC);


GO

CREATE NONCLUSTERED INDEX [IX_StationAffiliation_StationId]
    ON [dbo].[StationAffiliation]([StationId] ASC);

GO

INSERT INTO [StationAffiliation] VALUES ('87CB3551-8CF8-4B1E-A95A-CC20CB0F5DA1', '56D1B9B5-7216-44C2-BA51-854B7844610B', '7F2A053F-E111-4E56-912E-B7719C203123')
INSERT INTO [StationAffiliation] VALUES ('852FB686-1BCA-4ACB-999E-9DFC473BA924', '56D1B9B5-7216-44C2-BA51-854B7844610B', 'FC613A49-9F12-4382-AA02-1DB70326B387')
INSERT INTO [StationAffiliation] VALUES ('33431885-5B94-469A-8B9A-0CCD3D838F30', 'B6F4A9D3-201F-41ED-A84B-A7AA58C7B2B5', 'D07F23CA-55AF-4051-849E-EAC47CFDE52C')
INSERT INTO [StationAffiliation] VALUES ('190440C9-E8A6-4113-B361-E714BB691610', 'E1D8B806-8DA0-4933-81DD-EAB99A955F14', 'B4CD5032-2D7A-447D-9C2E-C38437B464E2')